<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>正则表达式 | Collection</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/collection/svg/js-cube.svg">
    <meta name="description" content="Love what you do, do what you love. :)">
    
    <link rel="preload" href="/collection/assets/css/0.styles.321f09cb.css" as="style"><link rel="preload" href="/collection/assets/js/app.cdf46b2d.js" as="script"><link rel="preload" href="/collection/assets/js/2.b20591c5.js" as="script"><link rel="preload" href="/collection/assets/js/1.8cf98e38.js" as="script"><link rel="preload" href="/collection/assets/js/44.003369c0.js" as="script"><link rel="prefetch" href="/collection/assets/js/10.ddc3ef5e.js"><link rel="prefetch" href="/collection/assets/js/11.0abc2f39.js"><link rel="prefetch" href="/collection/assets/js/12.42a47076.js"><link rel="prefetch" href="/collection/assets/js/13.9a6e2e92.js"><link rel="prefetch" href="/collection/assets/js/14.97b202da.js"><link rel="prefetch" href="/collection/assets/js/15.31392c45.js"><link rel="prefetch" href="/collection/assets/js/16.81bd89c9.js"><link rel="prefetch" href="/collection/assets/js/17.459cf0b5.js"><link rel="prefetch" href="/collection/assets/js/18.adc8baf7.js"><link rel="prefetch" href="/collection/assets/js/19.e77da72f.js"><link rel="prefetch" href="/collection/assets/js/20.87d51c13.js"><link rel="prefetch" href="/collection/assets/js/21.4e9fc147.js"><link rel="prefetch" href="/collection/assets/js/22.4c220ffd.js"><link rel="prefetch" href="/collection/assets/js/23.91a0e24d.js"><link rel="prefetch" href="/collection/assets/js/24.83fc4653.js"><link rel="prefetch" href="/collection/assets/js/25.0859b44a.js"><link rel="prefetch" href="/collection/assets/js/26.4bc14262.js"><link rel="prefetch" href="/collection/assets/js/27.c0d56cc1.js"><link rel="prefetch" href="/collection/assets/js/28.a1b6ee5b.js"><link rel="prefetch" href="/collection/assets/js/29.5021fe26.js"><link rel="prefetch" href="/collection/assets/js/3.026691d4.js"><link rel="prefetch" href="/collection/assets/js/30.343cbe24.js"><link rel="prefetch" href="/collection/assets/js/31.d46303cf.js"><link rel="prefetch" href="/collection/assets/js/32.d82f5412.js"><link rel="prefetch" href="/collection/assets/js/33.eb515833.js"><link rel="prefetch" href="/collection/assets/js/34.41bc1fa5.js"><link rel="prefetch" href="/collection/assets/js/35.6fd89daf.js"><link rel="prefetch" href="/collection/assets/js/36.a611c7ee.js"><link rel="prefetch" href="/collection/assets/js/37.2c931216.js"><link rel="prefetch" href="/collection/assets/js/38.d04db901.js"><link rel="prefetch" href="/collection/assets/js/39.732cd114.js"><link rel="prefetch" href="/collection/assets/js/4.1d563c75.js"><link rel="prefetch" href="/collection/assets/js/40.cf77c9ce.js"><link rel="prefetch" href="/collection/assets/js/41.bd803979.js"><link rel="prefetch" href="/collection/assets/js/42.a1b7064c.js"><link rel="prefetch" href="/collection/assets/js/43.c7683da7.js"><link rel="prefetch" href="/collection/assets/js/45.9dd703f6.js"><link rel="prefetch" href="/collection/assets/js/46.4387ec8e.js"><link rel="prefetch" href="/collection/assets/js/47.04c2d153.js"><link rel="prefetch" href="/collection/assets/js/48.0684cb95.js"><link rel="prefetch" href="/collection/assets/js/49.3de7784f.js"><link rel="prefetch" href="/collection/assets/js/5.20864915.js"><link rel="prefetch" href="/collection/assets/js/6.032e5a09.js"><link rel="prefetch" href="/collection/assets/js/7.c5de98cb.js"><link rel="prefetch" href="/collection/assets/js/vendors~docsearch.8fd8ff52.js">
    <link rel="stylesheet" href="/collection/assets/css/0.styles.321f09cb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/collection/" class="home-link router-link-active"><img src="/collection/svg/js-cube.svg" alt="Collection" class="logo"> <span class="site-name can-hide">Collection</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/collection/blog.html" class="nav-link">
  Treasure Blog
</a></div><div class="nav-item"><a href="/collection/website.html" class="nav-link">
  Treasure Website
</a></div><div class="nav-item"><a href="/collection/aboutme.html" class="nav-link">
  About Me
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="History" class="dropdown-title"><span class="title">History</span> <span class="arrow down"></span></button> <button type="button" aria-label="History" class="mobile-dropdown-title"><span class="title">History</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/collection/history/three-kingdoms.html" class="nav-link">
  三国
</a></li><li class="dropdown-item"><!----> <a href="/collection/history/ming-dynasty.html" class="nav-link">
  明朝那些事
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Friendly" class="dropdown-title"><span class="title">Friendly</span> <span class="arrow down"></span></button> <button type="button" aria-label="Friendly" class="mobile-dropdown-title"><span class="title">Friendly</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://itellboy.github.io/javascript-basic" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaScriptBasic
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/itellboy/collection" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/collection/blog.html" class="nav-link">
  Treasure Blog
</a></div><div class="nav-item"><a href="/collection/website.html" class="nav-link">
  Treasure Website
</a></div><div class="nav-item"><a href="/collection/aboutme.html" class="nav-link">
  About Me
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="History" class="dropdown-title"><span class="title">History</span> <span class="arrow down"></span></button> <button type="button" aria-label="History" class="mobile-dropdown-title"><span class="title">History</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/collection/history/three-kingdoms.html" class="nav-link">
  三国
</a></li><li class="dropdown-item"><!----> <a href="/collection/history/ming-dynasty.html" class="nav-link">
  明朝那些事
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Friendly" class="dropdown-title"><span class="title">Friendly</span> <span class="arrow down"></span></button> <button type="button" aria-label="Friendly" class="mobile-dropdown-title"><span class="title">Friendly</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://itellboy.github.io/javascript-basic" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaScriptBasic
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/itellboy/collection" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/collection/welcome.html" class="sidebar-link">欢迎</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>我的专栏</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/collection/post/sort.html" class="sidebar-link">四种排序</a></li><li><a href="/collection/post/binary-tree.html" class="sidebar-link">二叉树遍历</a></li><li><a href="/collection/post/es-latest.html" class="sidebar-link">ES Feature</a></li><li><a href="/collection/post/style.html" class="sidebar-link">编程风格</a></li><li><a href="/collection/post/regexp.html" aria-current="page" class="active sidebar-link">正则表达式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/collection/post/regexp.html#_1-regexp-对象" class="sidebar-link">1. RegExp 对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/collection/post/regexp.html#_1-1-实例属性" class="sidebar-link">1.1 实例属性</a></li><li class="sidebar-sub-header"><a href="/collection/post/regexp.html#_1-2-实例方法" class="sidebar-link">1.2 实例方法</a></li></ul></li><li class="sidebar-sub-header"><a href="/collection/post/regexp.html#_2-字符串中使用正则表达式的实例方法" class="sidebar-link">2. 字符串中使用正则表达式的实例方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/collection/post/regexp.html#_2-1-string-prototype-match" class="sidebar-link">2.1 String.prototype.match()</a></li><li class="sidebar-sub-header"><a href="/collection/post/regexp.html#_2-2-string-prototype-search" class="sidebar-link">2.2 String.prototype.search()</a></li><li class="sidebar-sub-header"><a href="/collection/post/regexp.html#_2-3-string-prototype-replace" class="sidebar-link">2.3 String.prototype.replace()</a></li><li class="sidebar-sub-header"><a href="/collection/post/regexp.html#_2-4-string-prototype-split" class="sidebar-link">2.4 String.prototype.split()</a></li></ul></li><li class="sidebar-sub-header"><a href="/collection/post/regexp.html#_3-正则表达式规则" class="sidebar-link">3.正则表达式规则</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/collection/post/regexp.html#_3-1-字面量字符" class="sidebar-link">3.1 字面量字符</a></li><li class="sidebar-sub-header"><a href="/collection/post/regexp.html#_3-2-元字符" class="sidebar-link">3.2 元字符</a></li><li class="sidebar-sub-header"><a href="/collection/post/regexp.html#_3-3-转义符" class="sidebar-link">3.3 转义符``</a></li><li class="sidebar-sub-header"><a href="/collection/post/regexp.html#_3-4-特殊字符" class="sidebar-link">3.4 特殊字符</a></li><li class="sidebar-sub-header"><a href="/collection/post/regexp.html#_3-5-字符类" class="sidebar-link">3.5 字符类[]</a></li><li class="sidebar-sub-header"><a href="/collection/post/regexp.html#_3-6-预定义模式" class="sidebar-link">3.6 预定义模式</a></li><li class="sidebar-sub-header"><a href="/collection/post/regexp.html#_3-7-重复类" class="sidebar-link">3.7 重复类</a></li><li class="sidebar-sub-header"><a href="/collection/post/regexp.html#_3-8-量字符" class="sidebar-link">3.8 量字符</a></li><li class="sidebar-sub-header"><a href="/collection/post/regexp.html#_3-9-贪婪模式" class="sidebar-link">3.9 贪婪模式</a></li><li class="sidebar-sub-header"><a href="/collection/post/regexp.html#_3-10-修饰符" class="sidebar-link">3.10 修饰符</a></li><li class="sidebar-sub-header"><a href="/collection/post/regexp.html#_3-11-分组匹配" class="sidebar-link">3.11 分组匹配</a></li></ul></li><li class="sidebar-sub-header"><a href="/collection/post/regexp.html#_4-常用的正则表达式" class="sidebar-link">4. 常用的正则表达式</a></li></ul></li><li><a href="/collection/post/knowledge-graph.html" class="sidebar-link">知识图谱</a></li><li><a href="/collection/interview/question.html" class="sidebar-link">杂七杂八</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>分享</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>2022年</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/collection/monthly/m202203.html" class="sidebar-link">03月</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>2021年</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/collection/monthly/m202103.html" class="sidebar-link">03月</a></li><li><a href="/collection/monthly/m202101.html" class="sidebar-link">01月</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>2020年</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="正则表达式"><a href="#正则表达式" class="header-anchor">#</a> 正则表达式</h1> <p>正则表达式是一种文本匹配的模式</p> <h2 id="_1-regexp-对象"><a href="#_1-regexp-对象" class="header-anchor">#</a> 1. RegExp 对象</h2> <p>在 JavaScript 中，有两种创建正则表达式的方式，它们分别是</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> regexp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'xyz'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> regexp <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">xyz</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_1-1-实例属性"><a href="#_1-1-实例属性" class="header-anchor">#</a> 1.1 实例属性</h3> <ul><li><p><code>RegExp.prototype.ignoreCase</code>：只读，返回布尔值，表示是否具有忽略大小写修饰符<code>i</code></p></li> <li><p><code>RegExp.prototype.global</code>：只读，返回布尔值，表示是否具有全局匹配修饰符<code>g</code></p></li> <li><p><code>RegExp.prototype.multiline</code>：只读，返回布尔值，表示是否具有多行匹配修饰符<code>m</code></p></li> <li><p><code>RegExp.prototype.source</code>：只读，返回正则表达式的字符串形式，不包括修饰符</p></li> <li><p><code>RegExp.prototype.flags</code>：只读，返回字符串，表示正则表达式的匹配模式，按照字母顺序排序，可能的值：<code>gimsuy</code></p></li> <li><p><code>RegExp.prototype.lastIndex</code>：可读写，表示下一次匹配开始的位置，可以通过手动设置属性来设置匹配的起始位置，只对同一个正则表达式生效</p></li></ul> <h3 id="_1-2-实例方法"><a href="#_1-2-实例方法" class="header-anchor">#</a> 1.2 实例方法</h3> <h4 id="_1-2-1-regexp-prototype-test"><a href="#_1-2-1-regexp-prototype-test" class="header-anchor">#</a> 1.2.1 RegExp.prototype.test()</h4> <p>从正则表达式的<code>lastIndex</code>属性位置开始搜索字符串，如果找到匹配的值，返回<code>true</code>，否则返回<code>false</code></p> <p>如果正则表达式含有<code>g</code>修饰符，并且匹配成功，正则表达式的<code>lastIndex</code>属性会随之改变为下一次开始匹配的位置</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">xyz</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'abcdxyzfgxyz'</span><span class="token punctuation">;</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 7</span>
<span class="token comment">// 12</span>
</code></pre></div><h4 id="_1-2-2-regexp-prototype-exec"><a href="#_1-2-2-regexp-prototype-exec" class="header-anchor">#</a> 1.2.2 RegExp.prototype.exec()</h4> <p>用正则表达式去匹配字符串，如果匹配成功，则返回一个数组，否则返回<code>null</code></p> <p>如果正则表达式含有<code>()</code>，表示组匹配，数组成员为匹配成功的子字符串，第一个成员为匹配整个正则表达式的字符串，第二个位匹配第一对<code>()</code>规则的字符串，以此类推。</p> <p>返回的数组还包含以下两个属性：</p> <ul><li><code>index</code>：整个正则表达式匹配字符串的起始位置</li> <li><code>input</code>：原始字符串</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">xy(z)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'abcxyzfdgxyz'</span><span class="token punctuation">;</span>

<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> match <span class="token operator">=</span> reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>match<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>match<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// (2) [&quot;xyz&quot;, &quot;z&quot;, index: 4, input: &quot;abcdxyzfgxyz&quot;, groups: undefined]</span>
<span class="token comment">// (2) [&quot;xyz&quot;, &quot;z&quot;, index: 9, input: &quot;abcdxyzfgxyz&quot;, groups: undefined]</span>
<span class="token comment">// null</span>
</code></pre></div><h2 id="_2-字符串中使用正则表达式的实例方法"><a href="#_2-字符串中使用正则表达式的实例方法" class="header-anchor">#</a> 2. 字符串中使用正则表达式的实例方法</h2> <ul><li><code>String.prototype.match()</code>：匹配字符串</li> <li><code>String.prototype.search()</code>：搜索字符串</li> <li><code>String.prototype.replace()</code>：替换字符串</li> <li><code>String.prototype.split()</code>：分割字符串</li></ul> <p>上面几个方法都可以接受正则表达式作为参数字符串，每次匹配都是从<code>0</code>开始，手动设置正则表达式的<code>lastIndex</code>属性无效</p> <h3 id="_2-1-string-prototype-match"><a href="#_2-1-string-prototype-match" class="header-anchor">#</a> 2.1 String.prototype.match()</h3> <p>接受一个正则表达式作为参数，返回一个数组，成员时匹配成功的子字符串，如果没有匹配成功<code>null</code></p> <ul><li>当正则表达式没有带有<code>g</code>修饰符的时候，执行的结果和<code>RegExp.prototype.exec()</code>结果一致</li> <li>当正则表达式带有<code>g</code>修饰符的时候，返回所有匹配成功的子字符串</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">xyz</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> reg2 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">xyz</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'abcxyzabcxyz'</span><span class="token punctuation">;</span>

str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;xyz&quot;, index: 3, input: &quot;abcxyzabcxyz&quot;, groups: undefined]</span>
str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;xyz&quot;, &quot;xyz&quot;]</span>
</code></pre></div><h3 id="_2-2-string-prototype-search"><a href="#_2-2-string-prototype-search" class="header-anchor">#</a> 2.2 String.prototype.search()</h3> <p>接受一个正则表达式作为参数，返回第一个匹配字符串在原字符串中的位置，如果没有匹配成功，返回<code>-1</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">x</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'abxcxd'</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2</span>
</code></pre></div><h3 id="_2-3-string-prototype-replace"><a href="#_2-3-string-prototype-replace" class="header-anchor">#</a> 2.3 String.prototype.replace()</h3> <p>接受两个参数，第一个为正则表达式，第二个位替换的字符串，如果正则表达式带有<code>g</code>修饰符，则替换所有满足条件的子字符串，如果没有，则替换第一个满足条件的子字符串</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">x</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'abxcxd'</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;ab0c0d&quot;</span>
</code></pre></div><h3 id="_2-4-string-prototype-split"><a href="#_2-4-string-prototype-split" class="header-anchor">#</a> 2.4 String.prototype.split()</h3> <p>按照正则规则将原字符串分割成数组</p> <p>接受两个参数，第一个位正则表达式，第二个位返回数组的最大长度，可以省略，返回一个数组。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">x</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'abxcxd'</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// (3) [&quot;ab&quot;, &quot;c&quot;, &quot;d&quot;]</span>
</code></pre></div><h2 id="_3-正则表达式规则"><a href="#_3-正则表达式规则" class="header-anchor">#</a> 3.正则表达式规则</h2> <h3 id="_3-1-字面量字符"><a href="#_3-1-字面量字符" class="header-anchor">#</a> 3.1 字面量字符</h3> <p>在正则表达式中，某个字符只表示它字面的含义，比如<code>/z/</code>,<code>/a/</code>分别匹配 a 和 b，就叫他字面量字符</p> <h3 id="_3-2-元字符"><a href="#_3-2-元字符" class="header-anchor">#</a> 3.2 元字符</h3> <p>具有特殊含义的字符，主要有</p> <ul><li><code>.</code>：点字符，匹配除开回车 (<code>\r</code>)、换行 (<code>\n</code>)、行分割符 (<code>\u2028</code>) 和段分割符 (<code>\u2029</code>) 之外任意一个字符</li> <li><code>^</code>：开始位置字符，表示匹配字符串开始</li> <li><code>$</code>：结束为止字符，表示匹配字符串结束</li> <li><code>|</code>：选择字符，表示或的关系</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^a.(b|c)d$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'abd'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token operator">/</span><span class="token operator">^</span>a<span class="token punctuation">.</span><span class="token punctuation">(</span>b<span class="token operator">|</span>c<span class="token punctuation">)</span>d$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'accd'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token operator">/</span><span class="token operator">^</span>a<span class="token punctuation">.</span><span class="token punctuation">(</span>b<span class="token operator">|</span>c<span class="token punctuation">)</span>d$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'accdb'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre></div><h3 id="_3-3-转义符"><a href="#_3-3-转义符" class="header-anchor">#</a> 3.3 转义符<code>\</code></h3> <p>正则表达式中有一些特殊含义的元字符，如果要表达他们本身，则需要在字符前加上<code>\</code>进行转义</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'a+b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><h3 id="_3-4-特殊字符"><a href="#_3-4-特殊字符" class="header-anchor">#</a> 3.4 特殊字符</h3> <p>正则表达式为一些不能打印的字符，提供了一些表达方法</p> <ul><li><code>[\b]</code>匹配退格键，不要与<code>\b</code>混淆</li> <li><code>\n</code>匹配换行键</li> <li><code>\r</code>匹配回车键</li> <li><code>\t</code>匹配制表符</li> <li><code>\v</code>匹配垂直制表符</li> <li><code>\f</code>匹配换页符</li> <li><code>\0</code>匹配<code>null</code>字符</li> <li><code>\xhh</code>匹配<code>\u00</code>和<code>\uFF</code></li> <li><code>\uhhhh</code>匹配<code>\u0000</code>和<code>\uFFFF</code></li></ul> <h3 id="_3-5-字符类"><a href="#_3-5-字符类" class="header-anchor">#</a> 3.5 字符类<code>[]</code></h3> <p>字符类表示一些可供选择的字符，只要匹配一个就可以，把所有待匹配的字符放入方括号类，组成一个字符类</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[abc]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'a'</span><span class="token punctuation">;</span>
reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><p>在字符类中下面两种字符有个特殊含义</p> <p><strong>脱字符<code>^</code></strong></p> <ul><li>表示除开方括号字符的任意字符都可以匹配，<code>[^abc]</code>表示匹配除开 a, b, c 之外的任意字符</li> <li><code>[^]</code>表示匹配一切字符，范围比点字符<code>.</code>要大</li> <li>脱字符只有在字符类的第一位才有效，否则就是字面量字符</li></ul> <p><strong>连字符<code>-</code></strong></p> <ul><li><code>/[0-9]/</code>表示<code>[0123456789]</code></li> <li><code>/[a-z]/</code>表示 26 个小写字母</li> <li><code>/[A-Z]/</code>表示 26 个大写字母</li></ul> <h3 id="_3-6-预定义模式"><a href="#_3-6-预定义模式" class="header-anchor">#</a> 3.6 预定义模式</h3> <p>常见匹配模式的简写</p> <ul><li><code>\d</code>等同于<code>[0-9]</code></li> <li><code>\D</code>等同于<code>[^0-9]</code></li> <li><code>\w</code>等同于<code>[a-zA-Z0-9_]</code></li> <li><code>\W</code>等同于<code>[^a-zA-Z0-9_]</code></li> <li><code>\s</code>等同于<code>[\r\n\t\v\f]</code></li> <li><code>\S</code>等同于<code>[^\r\n\t\v\f]</code></li> <li><code>\b</code>匹配词的边界</li> <li><code>\B</code>匹配非词边界，即在词的内部</li></ul> <h3 id="_3-7-重复类"><a href="#_3-7-重复类" class="header-anchor">#</a> 3.7 重复类</h3> <p><code>/a{2,9}/</code>匹配 a 字符重复 2 次到 9 次</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^1\d{10}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span> <span class="token comment">// 匹配 1 开头的总共十一位的数字</span>
</code></pre></div><h3 id="_3-8-量字符"><a href="#_3-8-量字符" class="header-anchor">#</a> 3.8 量字符</h3> <ul><li><code>?</code>匹配 0 次或 1 次，等同于<code>{0, 1}</code></li> <li><code>*</code>匹配 任意次，等同于<code>{0,}</code></li> <li><code>+</code>匹配 1 次或多次，等同于<code>{1,}</code></li></ul> <h3 id="_3-9-贪婪模式"><a href="#_3-9-贪婪模式" class="header-anchor">#</a> 3.9 贪婪模式</h3> <p>量字符的原则是最大可能匹配，知道下一个字符不匹配为止，我们称这种匹配模式为贪婪模式</p> <p>如果想讲贪婪模式改为非贪婪模式，则在量字符后面加上<code>?</code></p> <ul><li><code>*?</code>表示某个模式出现 0 次或多次，采用非贪婪模式</li> <li><code>+?</code>表示某个模式出现 1 次或者多次匹配，采用非贪婪模式</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'453'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;453&quot;, index: 0, input: &quot;453&quot;, groups: undefined]</span>
<span class="token operator">/</span>\d<span class="token operator">+</span><span class="token operator">?</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'453'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;4&quot;, index: 0, input: &quot;453&quot;, groups: undefined]</span>
</code></pre></div><h3 id="_3-10-修饰符"><a href="#_3-10-修饰符" class="header-anchor">#</a> 3.10 修饰符</h3> <ul><li><code>g</code>：全局匹配，主要用于搜索和替换</li> <li><code>i</code>：忽略大小写进行匹配</li> <li><code>m</code>：多行匹配模式</li></ul> <h3 id="_3-11-分组匹配"><a href="#_3-11-分组匹配" class="header-anchor">#</a> 3.11 分组匹配</h3> <p>正则表达式的括号表示分组匹配</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\d)a(\D)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'4ab6a4'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>
result<span class="token punctuation">;</span>
<span class="token comment">// [&quot;4ab&quot;, &quot;4&quot;, &quot;b&quot;, index: 0, input: &quot;4ab6a4&quot;, groups: undefined]</span>
</code></pre></div><p>正则表达式内部可以使用<code>\1</code>,<code>\2</code>，来表示括号匹配的内容，<code>\1</code>表示获取第一个括号匹配的内容</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(.)a(\d)\1\2</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'ba4b4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><p>实例：html 标签闭合匹配</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> tagReg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;([^&gt;]+)&gt;[^&gt;]*&lt;\/\1&gt;</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'&lt;span&gt;abc&lt;/span&gt;'</span><span class="token punctuation">;</span>
tagReg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
<span class="token comment">// (2) [&quot;&lt;span&gt;abc&lt;/span&gt;&quot;, &quot;span&quot;, index: 0, input: &quot;&lt;span&gt;abc&lt;/span&gt;&quot;, groups: undefined]</span>
</code></pre></div><h4 id="_3-11-1-非组捕获"><a href="#_3-11-1-非组捕获" class="header-anchor">#</a> 3.11.1 非组捕获</h4> <p><code>(?:x)</code>称为非组捕获，表示不返回匹配<code>x</code>的内容</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token string">'abc'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?:.)b(.)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m <span class="token comment">// [&quot;abc&quot;, &quot;c&quot;];</span>
</code></pre></div><h4 id="_3-11-2-先行断言"><a href="#_3-11-2-先行断言" class="header-anchor">#</a> 3.11.2 先行断言</h4> <p><code>x(?=y)</code>称为先行断言，<code>x</code>只有在<code>y</code>前面才匹配，<code>y</code>不计入匹配结果</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token string">'xaxy'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">x(?=y)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">;</span>
<span class="token comment">// [&quot;x&quot;, index: 2, input: &quot;xaxy&quot;, groups: undefined]</span>
</code></pre></div><h4 id="_3-11-3-先行否定断言"><a href="#_3-11-3-先行否定断言" class="header-anchor">#</a> 3.11.3 先行否定断言</h4> <p><code>x(?!y)</code>称为先行否定断言，只有不在<code>y</code>前面的<code>x</code>才匹配，<code>y</code>不计入匹配结果</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token string">'abcacb'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">c(?!a)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">;</span>
<span class="token comment">// [&quot;c&quot;, index: 4, input: &quot;abcacb&quot;, groups: undefined]</span>
</code></pre></div><h2 id="_4-常用的正则表达式"><a href="#_4-常用的正则表达式" class="header-anchor">#</a> 4. 常用的正则表达式</h2> <p>下面是一些常用的正则表达式，仅供参考，方便日常开发使用</p> <ul><li><code>/^([1][3,4,5,6,7,8,9])\d{9}$/</code>：手机号码</li> <li><code>/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/</code>：邮件地址</li> <li><code>/^[a-zA-Z]\w{5,17}$/</code>：密码（以字母开头，长度在 6~18 之间，只能包含字母、数字和下划线）</li> <li><code>/^((\d{18})|([0-9x]{18})|([0-9X]{18}))$/</code>：18 位身份证号码（数字，字母<code>X</code>结尾）</li> <li><code>/^[a-zA-z]+://[^\s]*$/</code>：网址（URL）</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/20/2024, 7:36:32 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/collection/post/style.html" class="prev">
        编程风格
      </a></span> <span class="next"><a href="/collection/post/knowledge-graph.html">
        知识图谱
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/collection/assets/js/app.cdf46b2d.js" defer></script><script src="/collection/assets/js/2.b20591c5.js" defer></script><script src="/collection/assets/js/1.8cf98e38.js" defer></script><script src="/collection/assets/js/44.003369c0.js" defer></script>
  </body>
</html>
